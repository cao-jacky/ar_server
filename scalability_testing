==7413== Memcheck, a memory error detector
==7413== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==7413== Using Valgrind-3.13.0 and LibVEX; rerun with -h for copyright info
==7413== Command: ./gpu_fv l 5 51717
==7413== Parent PID: 3378
==7413== 
==7413== Warning: noted but unhandled ioctl 0x30000001 with no size/direction hints.
==7413==    This could cause spurious value errors to appear.
==7413==    See README_MISSING_SYSCALL_OR_IOCTL for guidance on writing a proper wrapper.
==7413== Warning: noted but unhandled ioctl 0x27 with no size/direction hints.
==7413==    This could cause spurious value errors to appear.
==7413==    See README_MISSING_SYSCALL_OR_IOCTL for guidance on writing a proper wrapper.
==7413== Warning: noted but unhandled ioctl 0x7ff with no size/direction hints.
==7413==    This could cause spurious value errors to appear.
==7413==    See README_MISSING_SYSCALL_OR_IOCTL for guidance on writing a proper wrapper.
==7413== Warning: noted but unhandled ioctl 0x25 with no size/direction hints.
==7413==    This could cause spurious value errors to appear.
==7413==    See README_MISSING_SYSCALL_OR_IOCTL for guidance on writing a proper wrapper.
==7413== Warning: noted but unhandled ioctl 0x17 with no size/direction hints.
==7413==    This could cause spurious value errors to appear.
==7413==    See README_MISSING_SYSCALL_OR_IOCTL for guidance on writing a proper wrapper.
==7413== Warning: set address range perms: large range [0x200000000, 0x300200000) (noaccess)
==7413== Warning: set address range perms: large range [0x15087000, 0x35086000) (noaccess)
==7413== Warning: noted but unhandled ioctl 0x19 with no size/direction hints.
==7413==    This could cause spurious value errors to appear.
==7413==    See README_MISSING_SYSCALL_OR_IOCTL for guidance on writing a proper wrapper.
==7413== Warning: noted but unhandled ioctl 0x21 with no size/direction hints.
==7413==    This could cause spurious value errors to appear.
==7413==    See README_MISSING_SYSCALL_OR_IOCTL for guidance on writing a proper wrapper.
==7413== Warning: noted but unhandled ioctl 0x1b with no size/direction hints.
==7413==    This could cause spurious value errors to appear.
==7413==    See README_MISSING_SYSCALL_OR_IOCTL for guidance on writing a proper wrapper.
==7413== Warning: noted but unhandled ioctl 0x44 with no size/direction hints.
==7413==    This could cause spurious value errors to appear.
==7413==    See README_MISSING_SYSCALL_OR_IOCTL for guidance on writing a proper wrapper.
==7413== Warning: noted but unhandled ioctl 0x48 with no size/direction hints.
==7413==    This could cause spurious value errors to appear.
==7413==    See README_MISSING_SYSCALL_OR_IOCTL for guidance on writing a proper wrapper.
==7413== Invalid read of size 8
==7413==    at 0x1A1190: sift_gpu(cv::Mat, float**, float**, SiftData&, int&, int&, bool, bool) (in /home/jacky/Desktop/mobile_ar_system/ar_server/gpu_fv)
==7413==    by 0x1A13A7: onlineProcessing(cv::Mat, SiftData&, std::vector<float, std::allocator<float> >&, bool, bool, bool) (in /home/jacky/Desktop/mobile_ar_system/ar_server/gpu_fv)
==7413==    by 0x1A69D2: encodeDatabase(int, int) (in /home/jacky/Desktop/mobile_ar_system/ar_server/gpu_fv)
==7413==    by 0x11D78D: main (in /home/jacky/Desktop/mobile_ar_system/ar_server/gpu_fv)
==7413==  Address 0x17c9201c is 575,996 bytes inside a block of size 576,000 alloc'd
==7413==    at 0x4C2FB0F: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==7413==    by 0x2492A3: InitSiftData(SiftData&, int, bool, bool) (in /home/jacky/Desktop/mobile_ar_system/ar_server/gpu_fv)
==7413==    by 0x1A10BB: sift_gpu(cv::Mat, float**, float**, SiftData&, int&, int&, bool, bool) (in /home/jacky/Desktop/mobile_ar_system/ar_server/gpu_fv)
==7413==    by 0x1A13A7: onlineProcessing(cv::Mat, SiftData&, std::vector<float, std::allocator<float> >&, bool, bool, bool) (in /home/jacky/Desktop/mobile_ar_system/ar_server/gpu_fv)
==7413==    by 0x1A69D2: encodeDatabase(int, int) (in /home/jacky/Desktop/mobile_ar_system/ar_server/gpu_fv)
==7413==    by 0x11D78D: main (in /home/jacky/Desktop/mobile_ar_system/ar_server/gpu_fv)
==7413== 
==7413== Thread 16:
==7413== Invalid read of size 8
==7413==    at 0x1A1190: sift_gpu(cv::Mat, float**, float**, SiftData&, int&, int&, bool, bool) (in /home/jacky/Desktop/mobile_ar_system/ar_server/gpu_fv)
==7413==    by 0x1A13A7: onlineProcessing(cv::Mat, SiftData&, std::vector<float, std::allocator<float> >&, bool, bool, bool) (in /home/jacky/Desktop/mobile_ar_system/ar_server/gpu_fv)
==7413==    by 0x1A452B: query(cv::Mat, recognizedMarker&) (in /home/jacky/Desktop/mobile_ar_system/ar_server/gpu_fv)
==7413==    by 0x1A5027: ThreadQueryFunction() (in /home/jacky/Desktop/mobile_ar_system/ar_server/gpu_fv)
==7413==    by 0xDDFE66E: ??? (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.25)
==7413==    by 0x4E436DA: start_thread (pthread_create.c:463)
==7413==    by 0xE9D088E: clone (clone.S:95)
==7413==  Address 0x4dd00cfc is 575,996 bytes inside a block of size 576,000 alloc'd
==7413==    at 0x4C2FB0F: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==7413==    by 0x2492A3: InitSiftData(SiftData&, int, bool, bool) (in /home/jacky/Desktop/mobile_ar_system/ar_server/gpu_fv)
==7413==    by 0x1A10BB: sift_gpu(cv::Mat, float**, float**, SiftData&, int&, int&, bool, bool) (in /home/jacky/Desktop/mobile_ar_system/ar_server/gpu_fv)
==7413==    by 0x1A13A7: onlineProcessing(cv::Mat, SiftData&, std::vector<float, std::allocator<float> >&, bool, bool, bool) (in /home/jacky/Desktop/mobile_ar_system/ar_server/gpu_fv)
==7413==    by 0x1A452B: query(cv::Mat, recognizedMarker&) (in /home/jacky/Desktop/mobile_ar_system/ar_server/gpu_fv)
==7413==    by 0x1A5027: ThreadQueryFunction() (in /home/jacky/Desktop/mobile_ar_system/ar_server/gpu_fv)
==7413==    by 0xDDFE66E: ??? (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.25)
==7413==    by 0x4E436DA: start_thread (pthread_create.c:463)
==7413==    by 0xE9D088E: clone (clone.S:95)
==7413== 
==7413== Invalid read of size 8
==7413==    at 0x1A1190: sift_gpu(cv::Mat, float**, float**, SiftData&, int&, int&, bool, bool) (in /home/jacky/Desktop/mobile_ar_system/ar_server/gpu_fv)
==7413==    by 0x1A47B2: query(cv::Mat, recognizedMarker&) (in /home/jacky/Desktop/mobile_ar_system/ar_server/gpu_fv)
==7413==    by 0x1A5027: ThreadQueryFunction() (in /home/jacky/Desktop/mobile_ar_system/ar_server/gpu_fv)
==7413==    by 0xDDFE66E: ??? (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.25)
==7413==    by 0x4E436DA: start_thread (pthread_create.c:463)
==7413==    by 0xE9D088E: clone (clone.S:95)
==7413==  Address 0x4d8838cc is 575,996 bytes inside a block of size 576,000 alloc'd
==7413==    at 0x4C2FB0F: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==7413==    by 0x2492A3: InitSiftData(SiftData&, int, bool, bool) (in /home/jacky/Desktop/mobile_ar_system/ar_server/gpu_fv)
==7413==    by 0x1A10BB: sift_gpu(cv::Mat, float**, float**, SiftData&, int&, int&, bool, bool) (in /home/jacky/Desktop/mobile_ar_system/ar_server/gpu_fv)
==7413==    by 0x1A47B2: query(cv::Mat, recognizedMarker&) (in /home/jacky/Desktop/mobile_ar_system/ar_server/gpu_fv)
==7413==    by 0x1A5027: ThreadQueryFunction() (in /home/jacky/Desktop/mobile_ar_system/ar_server/gpu_fv)
==7413==    by 0xDDFE66E: ??? (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.25)
==7413==    by 0x4E436DA: start_thread (pthread_create.c:463)
==7413==    by 0xE9D088E: clone (clone.S:95)
==7413== 
==7413== Thread 17:
==7413== Invalid read of size 4
==7413==    at 0x50788CE: ??? (in /usr/local/cuda-10.1/targets/x86_64-linux/lib/libcudart.so.10.1.243)
==7413==    by 0x507DC5A: ??? (in /usr/local/cuda-10.1/targets/x86_64-linux/lib/libcudart.so.10.1.243)
==7413==    by 0x50A4CE9: cudaEventSynchronize (in /usr/local/cuda-10.1/targets/x86_64-linux/lib/libcudart.so.10.1.243)
==7413==    by 0x24D836: MatchSiftData(SiftData&, SiftData&) (in /home/jacky/Desktop/mobile_ar_system/ar_server/gpu_fv)
==7413==    by 0x1A4822: query(cv::Mat, recognizedMarker&) (in /home/jacky/Desktop/mobile_ar_system/ar_server/gpu_fv)
==7413==    by 0x1A5027: ThreadQueryFunction() (in /home/jacky/Desktop/mobile_ar_system/ar_server/gpu_fv)
==7413==    by 0xDDFE66E: ??? (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.25)
==7413==    by 0x4E436DA: start_thread (pthread_create.c:463)
==7413==    by 0xE9D088E: clone (clone.S:95)
==7413==  Address 0x18 is not stack'd, malloc'd or (recently) free'd
==7413== 
==7413== 
==7413== Process terminating with default action of signal 11 (SIGSEGV)
==7413==  Access not within mapped region at address 0x18
==7413==    at 0x50788CE: ??? (in /usr/local/cuda-10.1/targets/x86_64-linux/lib/libcudart.so.10.1.243)
==7413==    by 0x507DC5A: ??? (in /usr/local/cuda-10.1/targets/x86_64-linux/lib/libcudart.so.10.1.243)
==7413==    by 0x50A4CE9: cudaEventSynchronize (in /usr/local/cuda-10.1/targets/x86_64-linux/lib/libcudart.so.10.1.243)
==7413==    by 0x24D836: MatchSiftData(SiftData&, SiftData&) (in /home/jacky/Desktop/mobile_ar_system/ar_server/gpu_fv)
==7413==    by 0x1A4822: query(cv::Mat, recognizedMarker&) (in /home/jacky/Desktop/mobile_ar_system/ar_server/gpu_fv)
==7413==    by 0x1A5027: ThreadQueryFunction() (in /home/jacky/Desktop/mobile_ar_system/ar_server/gpu_fv)
==7413==    by 0xDDFE66E: ??? (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.25)
==7413==    by 0x4E436DA: start_thread (pthread_create.c:463)
==7413==    by 0xE9D088E: clone (clone.S:95)
==7413==  If you believe this happened as a result of a stack
==7413==  overflow in your program's main thread (unlikely but
==7413==  possible), you can try to increase the size of the
==7413==  main thread stack using the --main-stacksize= flag.
==7413==  The main thread stack size used in this run was 8388608.
==7413== 
==7413== HEAP SUMMARY:
==7413==     in use at exit: 351,025,926 bytes in 159,424 blocks
==7413==   total heap usage: 574,297 allocs, 414,873 frees, 1,115,982,501 bytes allocated
==7413== 
==7413== LEAK SUMMARY:
==7413==    definitely lost: 41,613,368 bytes in 227 blocks
==7413==    indirectly lost: 0 bytes in 0 blocks
==7413==      possibly lost: 32,852,244 bytes in 1,987 blocks
==7413==    still reachable: 276,560,314 bytes in 157,210 blocks
==7413==                       of which reachable via heuristic:
==7413==                         newarray           : 6,168 bytes in 3 blocks
==7413==         suppressed: 0 bytes in 0 blocks
==7413== Rerun with --leak-check=full to see details of leaked memory
==7413== 
==7413== For counts of detected and suppressed errors, rerun with: -v
==7413== ERROR SUMMARY: 106 errors from 4 contexts (suppressed: 0 from 0)
